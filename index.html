<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>WiFi no QR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container">
    <h1>WiFi no QR</h1>
    <form id="wifi-form">
      <label>
        SSID
        <input type="text" id="ssid" required>
      </label>
      <label>
        Encryption
        <select id="enc">
          <option value="WPA">WPA/WPA2/WPA3</option>
          <option value="WEP">WEP</option>
          <option value="nopass">None</option>
        </select>
      </label>
      <label id="key-wrap">
        Key
        <div style="display: flex; align-items: center;">
          <input type="password" id="key" required>
          <button type="button" id="display-key" title="Show/Hide Key">&#128065;</button>
        </div>
      </label>
      <label class="checkbox-line">
        <input type="checkbox" id="hidden">
        Hidden SSID
      </label>
      <div class="buttons">
        <button type="submit" id="generate">Generate!</button>
        <button type="button" id="save" style="display:none;">Save!</button>
        <a href="#" id="export" style="display:none;">Export!</a>
        <a href="#" id="print" style="display:none;">Print!</a>
      </div>
    </form>
    <div id="output">
      <div id="showssid">SSID: none</div>
      <div id="showkey">Passphrase: none</div>
      <div id="qrcode"></div>
    </div>
    <section>
      <h3>How-to</h3>
      <p>Fill in the WiFi details and generate your code. You can save, export, or print the QR code after generation.</p>
    </section>
  </main>
  <footer>
    <a href="#">Privacy Policy</a> | <a href="#">Terms of Use</a>
  </footer>

  <!-- Minimal JS for handling password toggle and buttons -->
  <script>
    document.getElementById('display-key').onclick = function(){
      var keyInput = document.getElementById('key');
      keyInput.type = keyInput.type === "password" ? "text" : "password";
    };

    document.getElementById('enc').onchange = function(){
      var keyWrap = document.getElementById('key-wrap');
      if(this.value === "nopass"){
        keyWrap.style.display = "none";
        document.getElementById('key').required = false;
      } else {
        keyWrap.style.display = "";
        document.getElementById('key').required = true;
      }
    };

    document.getElementById('wifi-form').onsubmit = function(e){
      e.preventDefault();
      document.getElementById('save').style.display = "";
      document.getElementById('export').style.display = "";
      document.getElementById('print').style.display = "";
      document.getElementById('showssid').textContent = "SSID: " + document.getElementById('ssid').value;
      var enc = document.getElementById('enc').value;
      var key = document.getElementById('key').value;
      document.getElementById('showkey').textContent = (enc !== "nopass") ? enc + " Passphrase: " + key : "";
      // Your QR generation logic should go here
    };
  </script>
</body>
</html>
